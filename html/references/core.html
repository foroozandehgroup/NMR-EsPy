

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>nmrespy.core &#8212; NMR-EsPy  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nmrespy.load" href="load.html" />
    <link rel="prev" title="Reference" href="index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="load.html" title="nmrespy.load"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Reference"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">NMR-EsPy  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">nmrespy.core</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <style>
   .grey {color:#808080}
   .red {color:#ff0000}
   .green {color:#008000}
   .blue {color:#0000ff}
   .oscblue {color:#1063e0}
   .oscorange {color:#eb9310}
   .oscgreen {color:#2bb539}
   .oscred {color:#d4200c}
   .regiongreen {color: #7fd47f}
   .regionblue {color: #66b3ff}
</style><section id="module-nmrespy.core">
<span id="nmrespy-core"></span><h1>nmrespy.core<a class="headerlink" href="#module-nmrespy.core" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="nmrespy.core.Estimator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">nmrespy.core.</span></span><span class="sig-name descname"><span class="pre">Estimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">off</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sfo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nuc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimation class</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The methods <a class="reference internal" href="#nmrespy.core.Estimator.new_bruker" title="nmrespy.core.Estimator.new_bruker"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_bruker()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">new_synthetic_from_data()</span></code>
and <code class="xref py py-meth docutils literal notranslate"><span class="pre">new_synthetic_from_parameters()</span></code> generate instances
of the class. The method <a class="reference internal" href="#nmrespy.core.Estimator.from_pickle" title="nmrespy.core.Estimator.from_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_pickle()</span></code></a> loads an estimator
instance that was previously saved using <a class="reference internal" href="#nmrespy.core.Estimator.to_pickle" title="nmrespy.core.Estimator.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_pickle()</span></code></a>.
While you can manually input the listed parameters
as arguments to initialise the class, it is more straightforward
to use one of these.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>'bruker_fid'</em><em>, </em><em>'bruker_pdata'</em><em>, </em><em>'synthetic'</em>) – The type of data imported. <cite>‘bruker_fid’</cite> indicates the data is
derived from a FID file (<cite>fid</cite> for 1D data, <cite>ser</cite> for 2D data).
<cite>‘bruker_pdata’</cite> indicates the data is derived from files found
in a <cite>pdata</cite> directory (<cite>1r</cite> for 1D data; <cite>2rr</cite> for 2D data).
<cite>‘synthetic’</cite> indicates that the data is synthetic.</p></li>
<li><p><strong>data</strong> (<em>numpy.ndarray</em>) – The data associated with the binary file in <cite>path</cite>.</p></li>
<li><p><strong>path</strong> (<em>pathlib.Path</em><em> or </em><em>None</em>) – The path to the directory contaioning the NMR data.</p></li>
<li><p><strong>sw</strong> (<em>[</em><em>float</em><em>] or </em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em>) – The experiment sweep width in each dimension (Hz).</p></li>
<li><p><strong>offset</strong> (<em>[</em><em>float</em><em>] or </em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em>) – The transmitter’s offset frequency in each dimension (Hz).</p></li>
<li><p><strong>sfo</strong> (<em>[</em><em>float</em><em>] or </em><em>[</em><em>float</em><em>, </em><em>float</em><em>] or </em><em>None</em>) – The transmitter frequency in each dimension (MHz)</p></li>
<li><p><strong>nuc</strong> (<em>[</em><em>str</em><em>] or </em><em>[</em><em>str</em><em>, </em><em>str</em><em>] or </em><em>None</em>) – The nucleus in each dimension. Elements will be of the form
<cite>‘&lt;mass&gt;&lt;element&gt;’</cite>, where <cite>‘&lt;mass&gt;’</cite> is the mass number of the
isotope and <cite>‘&lt;element&gt;’</cite> is the chemical symbol of the element.</p></li>
<li><p><strong>fmt</strong> (<em>str</em><em> or </em><em>None</em>) – The format of the binary file from which the data was obtained.
Of the form <cite>‘&lt;endian&gt;&lt;unitsize&gt;’</cite>, where <cite>‘&lt;endian&gt;’</cite> is either
<cite>‘&lt;’</cite> (little endian) or <cite>‘&gt;’</cite> (big endian), and <cite>‘&lt;unitsize&gt;’</cite>
is either <cite>‘i4’</cite> (32-bit integer) or <cite>‘f8’</cite> (64-bit float).</p></li>
<li><p><strong>_origin</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>default None</em>) – For internal use. Specifies how the instance was initalised. If <cite>None</cite>,
implies that the instance was initialised manually, rather than using
one of <a class="reference internal" href="#nmrespy.core.Estimator.new_bruker" title="nmrespy.core.Estimator.new_bruker"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_bruker()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">new_synthetic_from_data()</span></code>
and <code class="xref py py-meth docutils literal notranslate"><span class="pre">new_synthetic_from_parameters()</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator._check_if_none">
<span class="sig-name descname"><span class="pre">_check_if_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator._check_if_none"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator._check_if_none" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve attributes that may be assigned the value <cite>None</cite>. Return
None/raise error depending on the value of <code class="docutils literal notranslate"><span class="pre">kill</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the attribute requested.</p></li>
<li><p><strong>kill</strong> (<em>bool</em>) – Whether or not to raise an error if the desired attribute is
<cite>None</cite>.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>default: None</em>) – The name of the method that needs to be run to obtain the
desired attribute. If <cite>None</cite>, it implies that the attribute
requested was never given to the class in the first place.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>attribute</strong> – The attribute requested.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator._get_array">
<span class="sig-name descname"><span class="pre">_get_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_unit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator._get_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator._get_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array (result or errors), wioth frequencies in either
Hz or ppm</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator._get_data_sw_offset">
<span class="sig-name descname"><span class="pre">_get_data_sw_offset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator._get_data_sw_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator._get_data_sw_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve data, sweep width and offset, based on whether
frequency filtration have been applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>data</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>sw</strong> (<em>[float] or [float, float]</em>) – Sweep width (Hz).</p></li>
<li><p><strong>offset</strong> (<em>[float] or [float, float]</em>) – Transmitter offset (Hz).</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If <cite>self.filter_info</cite> is equal to <cite>None</cite>, <cite>self.data</cite> will be
analysed</p></li>
<li><p>If <cite>self.filter_info</cite> is an instance of
<a class="reference internal" href="freqfilter.html#nmrespy.freqfilter.FrequencyFilter" title="nmrespy.freqfilter.FrequencyFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.freqfilter.FrequencyFilter</span></code></a>,
<cite>self.filter_info.filtered_signal</cite> will be analysed.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.add_oscillators">
<span class="sig-name descname"><span class="pre">add_oscillators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oscillators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.add_oscillators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.add_oscillators" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds new oscillators an estimation result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>oscillators</strong> (<em>numpy.ndarray</em>) – <p>An array of the new oscillator(s) to add to the array.
<em>NB</em> <cite>oscillators</cite> should always be a two-dimensional array,
even if only one oscillator is being added:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">oscillators</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">a</span><span class="p">,</span> <span class="n">φ</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">η</span><span class="p">]])</span> <span class="c1"># 1D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oscillators</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">a</span><span class="p">,</span> <span class="n">φ</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">η1</span><span class="p">,</span> <span class="n">η2</span><span class="p">]])</span> <span class="c1"># 2D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or, equivalently:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oscillators</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert_axis</span><span class="p">(</span>
<span class="gp">... </span>     <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">φ</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">η</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">... </span><span class="p">)</span> <span class="c1"># 1D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oscillators</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert_axis</span><span class="p">(</span>
<span class="gp">... </span>     <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">φ</span><span class="p">,</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">η1</span><span class="p">,</span> <span class="n">η2</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">... </span><span class="p">)</span> <span class="c1"># 2D</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.frequency_filter">
<span class="sig-name descname"><span class="pre">frequency_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ppm'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.frequency_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.frequency_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates frequency-filtered data from <cite>self.data</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region</strong> (<em>[</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em><em>, </em><em>[</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em><em>, </em><em>[</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>] </em><em>or</em>) – </p></li>
<li><p><strong>[</strong><strong>[</strong><strong>float</strong> – Cut-off points of the spectral region to consider.
If the signal is 1D, this should be of the form <cite>[[a,b]]</cite>
where <cite>a</cite> and <cite>b</cite> are the boundaries.
If the signal is 2D, this should be of the form
<cite>[[a,b], [c,d]]</cite> where <cite>a</cite> and <cite>b</cite> are the boundaries in
dimension 1, and <cite>c</cite> and <cite>d</cite> are the boundaries in
dimension 2. The ordering of the bounds in each dimension is
not important.</p></li>
<li><p><strong>float</strong><strong>]</strong> – Cut-off points of the spectral region to consider.
If the signal is 1D, this should be of the form <cite>[[a,b]]</cite>
where <cite>a</cite> and <cite>b</cite> are the boundaries.
If the signal is 2D, this should be of the form
<cite>[[a,b], [c,d]]</cite> where <cite>a</cite> and <cite>b</cite> are the boundaries in
dimension 1, and <cite>c</cite> and <cite>d</cite> are the boundaries in
dimension 2. The ordering of the bounds in each dimension is
not important.</p></li>
<li><p><strong>[</strong><strong>float</strong> – Cut-off points of the spectral region to consider.
If the signal is 1D, this should be of the form <cite>[[a,b]]</cite>
where <cite>a</cite> and <cite>b</cite> are the boundaries.
If the signal is 2D, this should be of the form
<cite>[[a,b], [c,d]]</cite> where <cite>a</cite> and <cite>b</cite> are the boundaries in
dimension 1, and <cite>c</cite> and <cite>d</cite> are the boundaries in
dimension 2. The ordering of the bounds in each dimension is
not important.</p></li>
<li><p><strong>float</strong><strong>]</strong><strong>]</strong> – Cut-off points of the spectral region to consider.
If the signal is 1D, this should be of the form <cite>[[a,b]]</cite>
where <cite>a</cite> and <cite>b</cite> are the boundaries.
If the signal is 2D, this should be of the form
<cite>[[a,b], [c,d]]</cite> where <cite>a</cite> and <cite>b</cite> are the boundaries in
dimension 1, and <cite>c</cite> and <cite>d</cite> are the boundaries in
dimension 2. The ordering of the bounds in each dimension is
not important.</p></li>
<li><p><strong>noise_region</strong> (<em>[</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em><em>, </em><em>[</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em><em>,</em>) – </p></li>
<li><p><strong>[</strong><strong>[</strong><strong>float</strong> – Cut-off points of the spectral region to extract the spectrum’s
noise variance. This should have the same structure as <cite>region</cite>.</p></li>
<li><p><strong>or</strong><strong> [</strong><strong>[</strong><strong>float</strong> (<em>float</em><em>]</em><em>]</em>) – Cut-off points of the spectral region to extract the spectrum’s
noise variance. This should have the same structure as <cite>region</cite>.</p></li>
<li><p><strong>float</strong><strong>]</strong> – Cut-off points of the spectral region to extract the spectrum’s
noise variance. This should have the same structure as <cite>region</cite>.</p></li>
<li><p><strong>[</strong><strong>float</strong> – Cut-off points of the spectral region to extract the spectrum’s
noise variance. This should have the same structure as <cite>region</cite>.</p></li>
<li><p><strong>float</strong><strong>]</strong><strong>]</strong> – Cut-off points of the spectral region to extract the spectrum’s
noise variance. This should have the same structure as <cite>region</cite>.</p></li>
<li><p><strong>cut</strong> (<em>bool</em><em>, </em><em>default: True</em>) – If <cite>False</cite>, the filtered signal will comprise the same number of
data points as the original data. If <cite>True</cite>, prior to inverse
FT, the data will be sliced, with points not in the region
specified by <cite>cut_ratio</cite> being removed.</p></li>
<li><p><strong>cut_ratio</strong> (<em>float</em><em>, </em><em>default: 2.5</em>) – If cut is <cite>True</cite>, defines the ratio between the cut signal’s sweep
width, and the region width, in each dimesnion.
It is reccommended that this is comfortably larger than <cite>1.0</cite>.
<cite>2.0</cite> or higher should be appropriate.</p></li>
<li><p><strong>region_unit</strong> (<em>'ppm'</em><em>, </em><em>'hz'</em><em> or </em><em>'idx'</em><em>, </em><em>default: 'ppm'</em>) – The unit the elements of <cite>region</cite> and <cite>noise_region</cite> are
expressed in.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method assigns the attribute <cite>filter_info</cite> to an instance of
<a class="reference internal" href="freqfilter.html#nmrespy.freqfilter.FrequencyFilter" title="nmrespy.freqfilter.FrequencyFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.freqfilter.FrequencyFilter</span></code></a>. To obtain information
on the filtration, use <a class="reference internal" href="#nmrespy.core.Estimator.get_filter_info" title="nmrespy.core.Estimator.get_filter_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_filter_info()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.from_pickle">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.from_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.from_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads an intance of <a class="reference internal" href="#nmrespy.core.Estimator" title="nmrespy.core.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Estimator</span></code></a>, which was saved
previously using <a class="reference internal" href="#nmrespy.core.Estimator.to_pickle" title="nmrespy.core.Estimator.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_pickle()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – The path to the pickle file. <strong>DO NOT INCLUDE THE FILE
EXTENSION.</strong></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>estimator</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nmrespy.core.Estimator" title="nmrespy.core.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Estimator</span></code></a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><cite>From the Python docs:</cite></p>
<p><em>“The pickle module is not secure. Only unpickle data you trust.
It is possible to construct malicious pickle data which will
execute arbitrary code during unpickling. Never unpickle data
that could have come from an untrusted source, or that could have
been tampered with.”</em></p>
<p>You should only use <a class="reference internal" href="#nmrespy.core.Estimator.from_pickle" title="nmrespy.core.Estimator.from_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_pickle()</span></code></a> on files that
you are 100% certain were generated using
<a class="reference internal" href="#nmrespy.core.Estimator.to_pickle" title="nmrespy.core.Estimator.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_pickle()</span></code></a>. If you load pickled data from a .pkl file,
and the resulting output is not an instance of
<a class="reference internal" href="#nmrespy.core.Estimator" title="nmrespy.core.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Estimator</span></code></a>, an error will be raised.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_bf">
<span class="sig-name descname"><span class="pre">get_bf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_bf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_bf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transmitter’s basic frequency for each channel (MHz).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If the path is <cite>None</cite>, <cite>kill</cite> specifies how the method will act:</p>
<ul class="simple">
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>bf</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[float] or [float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the original data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>data</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_datapath">
<span class="sig-name descname"><span class="pre">get_datapath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Path'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_datapath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_datapath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path of the data directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>'Path'</em><em> or </em><em>'str'</em><em>, </em><em>default: 'Path'</em>) – The type of the returned path. If <cite>‘Path’</cite>, the returned object
is an instance of <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">pathlib.Path</a>. If <cite>‘str’</cite>, the returned
object is an instance of str.</p></li>
<li><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If the path is <cite>None</cite>, <cite>kill</cite> specifies how the method will act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_dim">
<span class="sig-name descname"><span class="pre">get_dim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_dim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the data dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>dim</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>1 or 2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_errors">
<span class="sig-name descname"><span class="pre">get_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hz'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_errors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the errors of the estimation result derived from
<a class="reference internal" href="#nmrespy.core.Estimator.nonlinear_programming" title="nmrespy.core.Estimator.nonlinear_programming"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nonlinear_programming()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If <cite>self.errors</cite> is <cite>None</cite>, <cite>kill</cite> specifies how the method will
act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p></li>
<li><p><strong>freq_unit</strong> (<em>'hz'</em><em> or </em><em>'ppm'</em><em>, </em><em>default: 'hz'</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_filter_info">
<span class="sig-name descname"><span class="pre">get_filter_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_filter_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_filter_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns information relating to frequency filtration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – If <cite>filter_info</cite> is <cite>None</cite>, and <cite>kill</cite> is <cite>True</cite>, an error will
be raised. If <cite>kill</cite> is False, <cite>None</cite> will be returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>filter_info</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="freqfilter.html#nmrespy.freqfilter.FrequencyFilter" title="nmrespy.freqfilter.FrequencyFilter">nmrespy.freqfilter.FrequencyFilter</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>There are numerous methods associated with <cite>filter_info</cite> for
obtaining relavent infomation about the filtration. See
<a class="reference internal" href="freqfilter.html#nmrespy.freqfilter.FrequencyFilter" title="nmrespy.freqfilter.FrequencyFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.freqfilter.FrequencyFilter</span></code></a> for details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_n">
<span class="sig-name descname"><span class="pre">get_n</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_n"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of datapoints in each dimension</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>n</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[int] or [int, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_nucleus">
<span class="sig-name descname"><span class="pre">get_nucleus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_nucleus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_nucleus" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target nucleus of each channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If the path is <cite>None</cite>, <cite>kill</cite> specifies how the method will act:</p>
<ul class="simple">
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>nuc</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[str] or [str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_offset">
<span class="sig-name descname"><span class="pre">get_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transmitter’s offset frequency in each dimesnion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unit</strong> (<em>'hz'</em><em> or </em><em>'ppm'</em><em>, </em><em>default: 'hz'</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>offset</strong> (<em>[float] or [float, float]</em>)</p></li>
<li><p><strong>kill</strong> (<em>bool, default: True</em>) – If <cite>unit</cite> is <cite>‘ppm’</cite>, but <cite>self.sfo</cite> is <cite>None</cite>, <cite>kill</cite> specifies
how the method will act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="errors.html#nmrespy._errors.InvalidUnitError" title="nmrespy._errors.InvalidUnitError"><strong>InvalidUnitError</strong></a> – If <cite>unit</cite> is not <cite>‘hz’</cite> or <cite>‘ppm’</cite></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If <cite>unit</cite> is set to <cite>‘ppm’</cite> and <cite>self.sfo</cite> is not specified
(<cite>None</cite>), there is no way of retreiving the offset in ppm.
<cite>None</cite> will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_result">
<span class="sig-name descname"><span class="pre">get_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hz'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the estimation result</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If <cite>self.result</cite> is <cite>None</cite>, <cite>kill</cite> specifies how the method will
act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p></li>
<li><p><strong>freq_unit</strong> (<em>'hz'</em><em> or </em><em>'ppm'</em><em>, </em><em>default: 'hz'</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_sfo">
<span class="sig-name descname"><span class="pre">get_sfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_sfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_sfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return transmitter frequency for each channel (MHz).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If the path is <cite>None</cite>, <cite>kill</cite> specifies how the method will act:</p>
<ul class="simple">
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>sfo</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[float] or [float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_shifts">
<span class="sig-name descname"><span class="pre">get_shifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshgrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_shifts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_shifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sampled frequencies consistent with experiment’s
parameters (sweep width, transmitter offset, number of points).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unit</strong> (<em>'ppm'</em><em> or </em><em>'hz'</em><em>, </em><em>default: 'ppm'</em>) – The unit of the value(s).</p></li>
<li><p><strong>meshgrid</strong> (<em>bool</em>) – Only appicable for 2D data. If set to <cite>True</cite>, the shifts in
each dimension will be fed into
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.meshgrid.html">numpy.meshgrid</a></p></li>
<li><p><strong>kill</strong> (<em>bool</em>) – <p>If <cite>self.sfo</cite> (need to get shifts in ppm) is <cite>None</cite>, <cite>kill</cite>
specifies how the method will act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>shifts</strong> – The frequencies sampled along each dimension.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[numpy.ndarray] or [numpy.ndarray, numpy.ndarray]</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="errors.html#nmrespy._errors.InvalidUnitError" title="nmrespy._errors.InvalidUnitError"><strong>InvalidUnitError</strong></a> – If <cite>unit</cite> is not <cite>‘hz’</cite> or <cite>‘ppm’</cite></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The shifts are returned in ascending order.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_sw">
<span class="sig-name descname"><span class="pre">get_sw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_sw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_sw" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the experiment sweep width in each dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unit</strong> (<em>'hz'</em><em> or </em><em>'ppm'</em><em>, </em><em>default: 'hz'</em>) – </p></li>
<li><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If <cite>unit</cite> is <cite>‘ppm’</cite>, but <cite>self.sfo</cite> is <cite>None</cite>, <cite>kill</cite> specifies
how the method will act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>sw</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[float] or [float, float]</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="errors.html#nmrespy._errors.InvalidUnitError" title="nmrespy._errors.InvalidUnitError"><strong>InvalidUnitError</strong></a> – If <cite>unit</cite> is not <cite>‘hz’</cite> or <cite>‘ppm’</cite></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If <cite>unit</cite> is set to <cite>‘ppm’</cite> and <cite>self.sfo</cite> is not specified
(<cite>None</cite>), there is no way of retreiving the sweep width in ppm.
<cite>None</cite> will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.get_timepoints">
<span class="sig-name descname"><span class="pre">get_timepoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meshgrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.get_timepoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.get_timepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sampled times consistent with experiment’s
parameters (sweep width, number of points).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>meshgrid</strong> (<em>bool</em>) – <p>Only appicable for 2D data. If set to <cite>True</cite>, the time-points in
each dimension will be fed into
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.meshgrid.html">numpy.meshgrid</a></p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tp</strong> – The times sampled along each dimension (seconds).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[numpy.ndarray] or [numpy.ndarray, numpy.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for logging <a class="reference internal" href="#nmrespy.core.Estimator" title="nmrespy.core.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Estimator</span></code></a> method calls</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.make_fid">
<span class="sig-name descname"><span class="pre">make_fid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oscillators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.make_fid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.make_fid" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a synthetic FID using a parameter estimate and
experiment parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>[</em><em>int</em><em>]</em><em>, or </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, or </em><em>None default: None</em>) – The number of points to construct the FID with in each dimesnion.
If <cite>None</cite>, <a class="reference internal" href="#nmrespy.core.Estimator.get_n" title="nmrespy.core.Estimator.get_n"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_n()</span></code></a> will be used, meaning the signal will
have the same number of points as the original data.</p></li>
<li><p><strong>oscillators</strong> (<em>None</em><em> or </em><em>list</em><em>, </em><em>default: None</em>) – Which oscillators to include in result. If <cite>None</cite>, all
oscillators will be included. If a list of ints, the subset of
oscillators corresponding to these indices will be used. Note
that all elements should be in <code class="docutils literal notranslate"><span class="pre">range(self.result.shape[0])</span></code>.</p></li>
<li><p><strong>kill</strong> (<em>bool</em><em>, </em><em>default: True</em>) – <p>If <cite>self.result</cite> is <cite>None</cite>, <cite>kill</cite> specifies how the method will
act:</p>
<ul>
<li><p>If <cite>True</cite>, an AttributeIsNoneError is raised.</p></li>
<li><p>If <cite>False</cite>, <cite>None</cite> is returned.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fid</strong> (<em>numpy.ndarray</em>) – The generated FID.</p></li>
<li><p><strong>tp</strong> (<em>[numpy.ndarray] or [numpy.ndarray, numpy.ndarray]</em>) – The time-points at which the signal is sampled, in each dimension.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="sig.html#nmrespy.sig.make_fid" title="nmrespy.sig.make_fid"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.sig.make_fid()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.manual_phase_data">
<span class="sig-name descname"><span class="pre">manual_phase_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_p1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.manual_phase_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.manual_phase_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform manual phase correction of <cite>self.data</cite>.</p>
<p>Zero- and first-order phase pharameters are determined via
interaction with a Tkinter- and matplotlib-based graphical user
interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_p1</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>default: None</em>) – Specifies the range of first-order phases permitted. For each
dimension, the user will be allowed to choose a value of <cite>p1</cite>
within [<cite>-max_p1</cite>, <cite>max_p1</cite>]. By default, <cite>max_p1</cite> will be
<code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">*</span> <span class="pre">numpy.pi</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.matrix_pencil">
<span class="sig-name descname"><span class="pre">matrix_pencil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.matrix_pencil"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.matrix_pencil" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the 1D Matrix Pencil Method <a class="footnote-reference brackets" href="#id7" id="id2">1</a> <a class="footnote-reference brackets" href="#id8" id="id3">2</a> or 2D
Modified Matrix Enchancement and Matrix Pencil (MMEMP) method <a class="footnote-reference brackets" href="#id9" id="id4">3</a>
<a class="footnote-reference brackets" href="#id10" id="id5">4</a> with the option of Model Order Selection using the Minumum
Descrition Length (MDL) <a class="footnote-reference brackets" href="#id11" id="id6">5</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>M</strong> (<em>int</em><em>, </em><em>default: 0</em>) – The number of oscillators to use in generating a parameter
estimate. If <cite>M</cite> is set to <cite>0</cite>, the number of oscillators will be
estimated using the MDL.</p></li>
<li><p><strong>trim</strong> (<em>[</em><em>int</em><em>]</em><em>, </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, or </em><em>None</em><em>, </em><em>default: None</em>) – If <cite>trim</cite> is a list, the analysed data will be sliced such that
its shape matches <cite>trim</cite>, with the initial points in the signal
being retained. If <cite>trim</cite> is <cite>None</cite>, the data will not be
sliced. Consider using this in cases where the full signal is
large, such that the method takes a very long time, or your PC
has insufficient memory to process it.</p></li>
<li><p><strong>fprint</strong> (<em>bool</em><em>, </em><em>default: True</em>) – If <cite>True</cite> (default), the method provides information on
progress to the terminal as it runs. If <cite>False</cite>, the method
will run silently.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The data analysed will be the following:</p>
<ul class="simple">
<li><p>If <cite>self.filter_info</cite> is equal to <cite>None</cite>, <cite>self.data</cite> will be
analysed</p></li>
<li><p>If <cite>self.filter_info</cite> is an instance of
<a class="reference internal" href="freqfilter.html#nmrespy.freqfilter.FrequencyFilter" title="nmrespy.freqfilter.FrequencyFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.freqfilter.FrequencyFilter</span></code></a>,
<cite>self.filter_info.filtered_signal</cite> will be analysed.</p></li>
</ul>
<p><strong>For developers:</strong> See <a class="reference internal" href="#nmrespy.core.Estimator._get_data_sw_offset" title="nmrespy.core.Estimator._get_data_sw_offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_data_sw_offset()</span></code></a></p>
<p>Upon successful completion is this method, <cite>self.mpm_info</cite> will
be updated with an instance of <a class="reference internal" href="mpm.html#nmrespy.mpm.MatrixPencil" title="nmrespy.mpm.MatrixPencil"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.mpm.MatrixPencil</span></code></a>.</p>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>Yingbo Hua and Tapan K Sarkar. “Matrix pencil method for
estimating parameters of exponentially damped/undamped sinusoids
in noise”. In: IEEE Trans. Acoust., Speech, Signal Process. 38.5
(1990), pp. 814–824.</p>
</dd>
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>Yung-Ya Lin et al. “A novel detection–estimation scheme for
noisy NMR signals: applications to delayed acquisition data”.
In: J. Magn. Reson. 128.1 (1997), pp. 30–41.</p>
</dd>
<dt class="label" id="id9"><span class="brackets"><a class="fn-backref" href="#id4">3</a></span></dt>
<dd><p>Yingbo Hua. “Estimating two-dimensional frequencies by matrix
enhancement and matrix pencil”. In: [Proceedings] ICASSP 91: 1991
International Conference on Acoustics, Speech, and Signal
Processing. IEEE. 1991, pp. 3073–3076.</p>
</dd>
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id5">4</a></span></dt>
<dd><p>Fang-Jiong Chen et al. “Estimation of two-dimensional
frequencies using modified matrix pencil method”. In: IEEE Trans.
Signal Process. 55.2 (2007), pp. 718–724.</p>
</dd>
<dt class="label" id="id11"><span class="brackets"><a class="fn-backref" href="#id6">5</a></span></dt>
<dd><p>M. Wax, T. Kailath, Detection of signals by information
theoretic criteria, IEEE Transactions on Acoustics, Speech, and
Signal Processing 33 (2) (1985) 387–392.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.merge_oscillators">
<span class="sig-name descname"><span class="pre">merge_oscillators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.merge_oscillators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.merge_oscillators" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the oscillators corresponding to <cite>indices</cite>.</p>
<p>Removes the osccilators specified, and constructs a single new
oscillator with a cumulative amplitude, and averaged phase,
frequency and damping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>list</em><em>, </em><em>tuple</em><em> or </em><em>numpy.ndarray</em>) – A list of indices corresponding to the oscillators to be
merged. The elements of <cite>indices</cite> should be ints that
are in <code class="docutils literal notranslate"><span class="pre">range(result.shape[0])</span></code>, where <cite>result</cite> is the
current estimation result.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Assuming that an estimation result contains a subset of oscillators
denoted by indices <img class="math" src="../_images/math/3c3ebd66618fd8a5f86f96526f73046daa622d7e.png" alt="\{m_1, m_2, \cdots, m_J\}"/>, where
<img class="math" src="../_images/math/434c91e287273ba74d93614b065d85df5e4fe105.png" alt="J \leq M"/>, the new oscillator formed by the merging of the
oscillator subset will possess the following parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><img class="math" src="../_images/math/35ef3db46e043f1bee1d4fe19d542f064e5971e7.png" alt="a_{\mathrm{new}} = \sum_{i=1}^J a_{m_i}"/></p></li>
<li><p><img class="math" src="../_images/math/7ea789c48046fff07ad060dc8f3ce5c859677f9c.png" alt="\phi_{\mathrm{new}} = \frac{1}{J} \sum_{i=1}^J
\phi_{m_i}"/></p></li>
<li><p><img class="math" src="../_images/math/dd6ae46afa1f39d8499a14a969958f95acf20a0b.png" alt="f_{\mathrm{new}} = \frac{1}{J} \sum_{i=1}^J f_{m_i}"/></p></li>
<li><p><img class="math" src="../_images/math/7fe3a6b767daa400becd07a88533b818439d7739.png" alt="\eta_{\mathrm{new}} = \frac{1}{J} \sum_{i=1}^J
\eta_{m_i}"/></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.new_bruker">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">new_bruker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ask_convdta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.new_bruker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.new_bruker" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an instance of <a class="reference internal" href="#nmrespy.core.Estimator" title="nmrespy.core.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Estimator</span></code></a> from a
Bruker-formatted data directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<em>str</em>) – The path to the data containing the data of interest.</p></li>
<li><p><strong>ask_convdta</strong> (<em>bool</em>) – See <code class="xref py py-meth docutils literal notranslate"><span class="pre">nmrespy.load_bruker()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>estimator</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#nmrespy.core.Estimator" title="nmrespy.core.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Estimator</span></code></a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For a more detailed specification of the directory requirements,
see <code class="xref py py-meth docutils literal notranslate"><span class="pre">nmrespy.load_bruker()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.nonlinear_programming">
<span class="sig-name descname"><span class="pre">nonlinear_programming</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.nonlinear_programming"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.nonlinear_programming" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimation of signal parameters using nonlinear programming, given
an inital guess.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trim</strong> (<em>None</em><em>, </em><em>[</em><em>int</em><em>]</em><em>, or </em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>default: None</em>) – If <cite>trim</cite> is a list, the analysed data will be sliced such that
its shape matches <cite>trim</cite>, with the initial points in the signal
being retained. If <cite>trim</cite> is <cite>None</cite>, the data will not be
sliced. Consider using this in cases where the full signal is
large, such that the method takes a very long time, or your PC
has insufficient memory to process it.</p></li>
<li><p><strong>**kwargs</strong> – <p>Properties of <a class="reference internal" href="nlp/nlp.html#nmrespy.nlp.nlp.NonlinearProgramming" title="nmrespy.nlp.nlp.NonlinearProgramming"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.nlp.nlp.NonlinearProgramming</span></code></a>.
Valid arguments:</p>
<ul>
<li><p><cite>phase_variance</cite></p></li>
<li><p><cite>method</cite></p></li>
<li><p><cite>bound</cite></p></li>
<li><p><cite>max_iterations</cite></p></li>
<li><p><cite>amp_thold</cite></p></li>
<li><p><cite>freq_thold</cite></p></li>
<li><p><cite>negative_amps</cite></p></li>
<li><p><cite>fprint</cite></p></li>
</ul>
<p>Other keyword arguments that are valid in
<a class="reference internal" href="nlp/nlp.html#nmrespy.nlp.nlp.NonlinearProgramming" title="nmrespy.nlp.nlp.NonlinearProgramming"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.nlp.nlp.NonlinearProgramming()</span></code></a> will be ignored
(these are generated internally by the class instance).</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="errors.html#nmrespy._errors.PhaseVarianceAmbiguityError" title="nmrespy._errors.PhaseVarianceAmbiguityError"><strong>PhaseVarianceAmbiguityError</strong></a> – Raised when <code class="docutils literal notranslate"><span class="pre">phase_variance</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, but the user
    has specified that they do not wish to optimise phases using the
    <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The data analysed will be the following:</p>
<ul class="simple">
<li><p>If <cite>self.filter_info</cite> is equal to <cite>None</cite>, <cite>self.data</cite> will be
analysed</p></li>
<li><p>If <cite>self.filter_info</cite> is an instance of
<a class="reference internal" href="freqfilter.html#nmrespy.freqfilter.FrequencyFilter" title="nmrespy.freqfilter.FrequencyFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.freqfilter.FrequencyFilter</span></code></a>,
<cite>self.filter_info.filtered_signal</cite> will be analysed.</p></li>
</ul>
<p>Upon successful completion is this method, <cite>self.result</cite> and
<cite>self.errors</cite> will be updated.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="nlp/nlp.html#nmrespy.nlp.nlp.NonlinearProgramming" title="nmrespy.nlp.nlp.NonlinearProgramming"><code class="xref py py-class docutils literal notranslate"><span class="pre">nmrespy.nlp.nlp.NonlinearProgramming</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.phase_data">
<span class="sig-name descname"><span class="pre">phase_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.phase_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.phase_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Phase <cite>self.data</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p0</strong> (<em>[</em><em>float</em><em>]</em><em>, </em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, or </em><em>None default: None</em>) – Zero-order phase correction in each dimension in radians.
If <cite>None</cite>, the phase will be set to <cite>0.0</cite> in each dimension.</p></li>
<li><p><strong>p1</strong> (<em>[</em><em>float</em><em>]</em><em>, </em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>, or </em><em>None default: None</em>) – First-order phase correction in each dimension in radians.
If <cite>None</cite>, the phase will be set to <cite>0.0</cite> in each dimension.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.plot_result">
<span class="sig-name descname"><span class="pre">plot_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.plot_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.plot_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a figure of an estimation result.</p>
<p>The figure consists of the original data, in the Fourier domain,
along with each oscillator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (Properties of <a class="reference internal" href="write.html#nmrespy.write.write_result" title="nmrespy.write.write_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.write.write_result()</span></code></a>.) – <p>Valid arguments are:</p>
<ul class="simple">
<li><p><cite>shifts_unit</cite></p></li>
<li><p><cite>plot_residual</cite></p></li>
<li><p><cite>plot_model</cite></p></li>
<li><p><cite>residual_shift</cite></p></li>
<li><p><cite>model_shift</cite></p></li>
<li><p><cite>data_color</cite></p></li>
<li><p><cite>oscillator_colors</cite></p></li>
<li><p><cite>residual_color</cite></p></li>
<li><p><cite>model_color</cite></p></li>
<li><p><cite>labels</cite></p></li>
<li><p><cite>stylesheet</cite></p></li>
</ul>
<p>Other keyword arguments that are valid in
<a class="reference internal" href="plot.html#nmrespy.plot.plot_result" title="nmrespy.plot.plot_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.plot.plot_result()</span></code></a> will be ignored (these are
generated internally by the class instance).</p>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="errors.html#nmrespy._errors.AttributeIsNoneError" title="nmrespy._errors.AttributeIsNoneError"><strong>AttributeIsNoneError</strong></a> – If no parameter estimate derived from nonlinear programming
    is found (see <a class="reference internal" href="#nmrespy.core.Estimator.nonlinear_programming" title="nmrespy.core.Estimator.nonlinear_programming"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nonlinear_programming()</span></code></a>).</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="plot.html#nmrespy.plot.plot_result" title="nmrespy.plot.plot_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.plot.plot_result()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.remove_oscillators">
<span class="sig-name descname"><span class="pre">remove_oscillators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.remove_oscillators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.remove_oscillators" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the oscillators corresponding to <code class="docutils literal notranslate"><span class="pre">indices</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>list</em>) – A list of indices corresponding to the oscillators to be
removed. The elements of <cite>indices</cite> should be ints that
are in <code class="docutils literal notranslate"><span class="pre">range(result.shape[0])</span></code>, where <cite>result</cite> is the
current estimation result.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.save_logfile">
<span class="sig-name descname"><span class="pre">save_logfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./nmrespy_log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.save_logfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.save_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves log file of class instance usage to a specified path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>default: './nmrespy_log'</em>) – The path to save the file to. DO NOT INCLUDE A FILE EXTENSION.
<cite>.log</cite> will be added automatically.</p></li>
<li><p><strong>force_overwrite</strong> (<em>bool. default: False</em>) – <p>Defines behaviour if <code class="docutils literal notranslate"><span class="pre">f'{path}.log'</span></code> already exists:</p>
<ul>
<li><p>If <cite>force_overwrite</cite> is set to <cite>False</cite>, the user will be prompted
if they are happy overwriting the current file.</p></li>
<li><p>If <cite>force_overwrite</cite> is set to <cite>True</cite>, the current file will be
overwritten without prompt.</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.split_oscillator">
<span class="sig-name descname"><span class="pre">split_oscillator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separation_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amp_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.split_oscillator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.split_oscillator" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits the oscillator corresponding to <cite>index</cite>.</p>
<p>Removes an oscillator, and incorporates two or more oscillators
whose cumulative amplitudes match that of the removed oscillator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Array index of the oscilator to be split.</p></li>
<li><p><strong>separation_frequency</strong> (<em>float</em><em>, or </em><em>None default: None</em>) – The frequency separation given to adjacent oscillators formed
from the splitting. If <cite>None</cite>, the splitting will be set to
<code class="docutils literal notranslate"><span class="pre">sw</span> <span class="pre">/</span> <span class="pre">n</span></code> where <cite>sw</cite> is the sweep width and <cite>n</cite> is the number
of points in the data.</p></li>
<li><p><strong>unit</strong> (<em>'hz'</em><em> or </em><em>'ppm'</em><em>, </em><em>default: 'hz'</em>) – The unit of <cite>separation_frequency</cite>.</p></li>
<li><p><strong>split_number</strong> (<em>int</em><em>, </em><em>default: 2</em>) – The number of peaks to split the oscillator into.</p></li>
<li><p><strong>amp_ratio</strong> (<em>list</em><em> or </em><em>None</em><em>, </em><em>default: None</em>) – The ratio of amplitudes to be fulfilled by the newly formed
peaks. If a list, <code class="docutils literal notranslate"><span class="pre">len(amp_ratio)</span> <span class="pre">==</span> <span class="pre">split_number</span></code> must be
satisfied. The first element will relate to the highest
frequency oscillator constructed, and the last element will
relate to the lowest frequency oscillator constructed. If <cite>None</cite>,
all oscillators will be given equal amplitudes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.to_pickle">
<span class="sig-name descname"><span class="pre">to_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./estimator'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.to_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.to_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the class instance to a byte stream using Python’s
“Pickling” protocol, and saves it to a .pkl file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>default: './estimator'</em>) – Path of file to save the byte stream to. <strong>DO NOT INCLUDE A
`’.pkl’` EXTENSION!</strong> <cite>‘.pkl’</cite> is added to the end of the path
automatically.</p></li>
<li><p><strong>force_overwrite</strong> (<em>bool</em><em>, </em><em>default: False</em>) – <p>Defines behaviour if <code class="docutils literal notranslate"><span class="pre">f'{path}.pkl'</span></code> already exists:</p>
<ul>
<li><p>If <cite>force_overwrite</cite> is set to <cite>False</cite>, the user will be prompted
if they are happy overwriting the current file.</p></li>
<li><p>If <cite>force_overwrite</cite> is set to <cite>True</cite>, the current file will be
overwritten without prompt.</p></li>
</ul>
</p></li>
<li><p><strong>fprint</strong> (<em>bool</em><em>, </em><em>default: True</em>) – Specifies whether or not to print infomation to the terminal.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method complements <a class="reference internal" href="#nmrespy.core.Estimator.from_pickle" title="nmrespy.core.Estimator.from_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_pickle()</span></code></a>, in that
an instance saved using <a class="reference internal" href="#nmrespy.core.Estimator.to_pickle" title="nmrespy.core.Estimator.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_pickle()</span></code></a> can be recovered by
<code class="xref py py-func docutils literal notranslate"><span class="pre">pickle_load()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.view_data">
<span class="sig-name descname"><span class="pre">view_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'frequency'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_xunit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ppm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'real'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.view_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.view_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a simple, interactive plot of the data using matplotlib.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<em>'frequency'</em><em> or </em><em>'time'</em><em>, </em><em>default: 'frequency'</em>) – The domain of the sig.</p></li>
<li><p><strong>freq_xunit</strong> (<em>'ppm'</em><em> or </em><em>'hz'</em><em>, </em><em>default: 'ppm'</em>) – The unit of the x-axis, if <cite>domain</cite> is set as <cite>‘frequency’</cite>. If
<cite>domain</cite> is set as <cite>‘time’</cite>, the x-axis unit will the seconds.</p></li>
<li><p><strong>component</strong> (<em>'real'</em><em>, </em><em>'imag'</em><em> or </em><em>'both'</em><em>, </em><em>default: 'real'</em>) – The component of the data to display. <cite>‘both’</cite> displays both
the real and imaginary components</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nmrespy.core.Estimator.write_result">
<span class="sig-name descname"><span class="pre">write_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nmrespy/core.html#Estimator.write_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nmrespy.core.Estimator.write_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves an estimation result to a file in a human-readable format
(text, PDF, CSV).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (Properties of <a class="reference internal" href="write.html#nmrespy.write.write_result" title="nmrespy.write.write_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.write.write_result()</span></code></a>.) – <p>Valid arguments are:</p>
<ul class="simple">
<li><p><cite>path</cite></p></li>
<li><p><cite>description</cite></p></li>
<li><p><cite>sig_figs</cite></p></li>
<li><p><cite>sci_lims</cite></p></li>
<li><p><cite>fmt</cite></p></li>
<li><p><cite>force_overwrite</cite></p></li>
<li><p><cite>fprint</cite></p></li>
</ul>
<p>Other keyword arguments that are valid in
<a class="reference internal" href="write.html#nmrespy.write.write_result" title="nmrespy.write.write_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.write.write_result()</span></code></a> will be ignored (these are
generated internally by the class instance).</p>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="errors.html#nmrespy._errors.AttributeIsNoneError" title="nmrespy._errors.AttributeIsNoneError"><strong>AttributeIsNoneError</strong></a> – If no parameter estimate derived from nonlinear programming
    is found (see <a class="reference internal" href="#nmrespy.core.Estimator.nonlinear_programming" title="nmrespy.core.Estimator.nonlinear_programming"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nonlinear_programming()</span></code></a>).</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="write.html#nmrespy.write.write_result" title="nmrespy.write.write_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">nmrespy.write.write_result()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Reference</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="load.html"
                        title="next chapter">nmrespy.load</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/references/core.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="load.html" title="nmrespy.load"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Reference"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">NMR-EsPy  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">nmrespy.core</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Simon Hulse &amp; Mohammadali Foroozandeh.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.2.
    </div>
  </body>
</html>